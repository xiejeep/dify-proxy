# Dify代理服务前端测试工具

这是一个简单的HTML页面，用于测试Dify代理服务的各项功能。

## 功能特性

### 🔧 服务状态检查
- 检查后端服务是否正常运行
- 验证API连接性

### 👤 用户管理
- **用户注册**: 创建新用户账户
- **用户登录**: 获取访问令牌

### 💰 积分系统
- **积分查询**: 查看当前用户积分余额
- **每日签到**: 获取每日签到奖励积分

### 🤖 Dify API集成
- **聊天消息**: 测试Dify聊天API
- **实时响应**: 查看API调用结果

## 使用方法

### 1. 启动后端服务
确保Dify代理服务已经启动并运行在 `http://localhost:3000`

### 2. 打开测试页面
直接在浏览器中打开 `index.html` 文件

### 3. 测试流程

#### 步骤1: 检查服务状态
点击"检查服务状态"按钮，确认后端服务正常运行

#### 步骤2: 注册用户
1. 填写邮箱、密码和用户名
2. 点击"注册用户"按钮
3. 查看注册结果

#### 步骤3: 用户登录
1. 使用注册的邮箱和密码
2. 点击"登录"按钮
3. 成功后会自动填充认证Token

#### 步骤4: 测试功能
- **查询积分**: 查看新用户的初始积分
- **每日签到**: 获取签到奖励
- **Dify聊天**: 测试AI聊天功能

## API端点

测试页面会调用以下API端点：

- `GET /api/health` - 服务健康检查
- `POST /api/auth/register` - 用户注册
- `POST /api/auth/login` - 用户登录
- `GET /api/credits/balance` - 查询积分余额
- `POST /api/checkin` - 每日签到
- `POST /api/dify/chat-messages` - Dify聊天API

## 注意事项

1. **CORS设置**: 确保后端服务允许跨域请求
2. **环境变量**: 确保后端服务配置了必要的环境变量
3. **Dify API**: 需要有效的Dify API密钥才能测试聊天功能
4. **邮件服务**: 注册功能可能需要配置邮件服务

## 故障排除

### 连接失败
- 检查后端服务是否启动
- 确认端口3000是否可访问
- 检查防火墙设置

### API调用失败
- 检查认证Token是否有效
- 确认API端点路径正确
- 查看浏览器开发者工具的网络面板

### Dify API错误
- 确认DIFY_API_KEY环境变量已设置
- 检查Dify服务是否可用
- 验证API密钥权限

## 技术栈

- **前端**: 纯HTML + CSS + JavaScript
- **API调用**: Fetch API
- **样式**: 现代CSS设计
- **响应式**: 支持移动端访问

## 扩展功能

可以根据需要添加更多测试功能：

- 文件上传测试
- 工作流API测试
- 语音转文本测试
- 文本转语音测试
- 使用统计查询
- 用户信息管理

---

**提示**: 这个测试工具仅用于开发和测试目的，不适合生产环境使用。